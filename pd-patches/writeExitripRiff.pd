#N canvas 540 103 960 1009 10;
#X obj 498 27 hradio 15 1 1 16 empty empty empty 0 -8 0 10 -262144
-1 -1 2;
#X obj 85 275 notein;
#X floatatom 85 343 5 0 0 0 - - -, f 5;
#X floatatom 101 322 5 0 0 0 - - -, f 5;
#X floatatom 118 301 5 0 0 0 - - -, f 5;
#X floatatom 644 49 5 0 0 0 - - -, f 5;
#X obj 638 77 ==;
#X floatatom 452 474 5 0 0 0 - - -, f 5;
#X obj 456 512 int;
#X obj 442 447 line;
#X obj 314 11 vsl 15 128 15 512 0 1 empty empty empty 0 -9 0 10 -262144
-1 -1 1916 1;
#X obj 539 78 spigot;
#X obj 86 421 s note;
#X obj 124 344 s vel;
#X obj 139 322 s chan;
#X obj 538 50 r note;
#X obj 589 48 r chan;
#X obj 935 699 sel 0;
#X msg 937 732 127;
#X obj 381 592 print note>;
#X floatatom 811 636 5 0 0 0 value - -, f 5;
#X floatatom 811 667 5 0 0 0 controller - -, f 5;
#X floatatom 809 716 5 0 0 0 channel - -, f 5;
#X obj 857 616 ctlin;
#X obj 857 770 pack 176 0 0;
#X obj 857 802 print ctl>;
#X obj 857 652 t b f;
#X obj 857 716 f;
#X obj 912 659 + 175;
#X floatatom 698 156 5 0 0 0 - - -, f 5;
#X text 910 542 header format:totLen \, del \, note \, del \, note
\, etc...;
#X obj 449 879 textfile;
#X msg 532 860 print;
#X obj 401 912 print message;
#X obj 489 913 print done;
#X msg 382 789 clear;
#X obj 500 704 t b;
#X msg 499 682 set unsigned char code \$1 [x] = !;
#X obj 85 368 moses 10;
#X obj 84 397 moses 109;
#X msg 590 739 add ?;
#X text 835 427 pd poor text world means:' = \, ! = openCurly? =
closeCurlyx = length of C array;
#X text 836 500 add2_comma is a thingbut incurs timing hell;
#X obj 468 568 pack \$1 \$2;
#X obj 455 418 pack \$1 \$2;
#X obj 338 239 * 1000;
#X obj 338 264 / 0.271;
#X obj 338 286 i;
#X msg 263 126 1000;
#X floatatom 263 148 5 0 0 0 - - -, f 5;
#X obj 263 169 /;
#X floatatom 263 191 5 0 0 0 - - -, f 5;
#X floatatom 262 245 5 0 0 0 - - -, f 5;
#X text 338 128 bpm;
#X floatatom 314 149 5 0 0 0 - - -, f 5;
#X obj 314 170 / 60;
#X obj 314 192 t b;
#X text 231 191 mspb;
#X text 213 245 mspppq;
#X msg 222 96 12;
#X floatatom 222 146 5 0 0 0 - - -, f 5;
#X msg 227 121 6;
#X msg 221 69 18;
#X msg 219 47 24;
#X msg 182 29 30;
#X msg 177 10 36;
#X text 195 144 ppq;
#X obj 222 167 t b;
#X obj 338 308 print masterTempo>;
#X text 373 289 mystery timer;
#X obj 262 266 * 255;
#X floatatom 262 288 5 0 0 0 - - -, f 5;
#X msg 542 428 2;
#X obj 425 408 t b;
#X obj 427 360 r resetTime;
#X msg 425 386 0;
#X obj 262 309 s maxTime;
#X obj 495 388 r maxTime;
#X obj 519 593 t b;
#X obj 518 619 s resetTime;
#X msg 113 68 40;
#X msg 112 91 60;
#X msg 112 113 90;
#X msg 113 140 115;
#X msg 118 161 135;
#X msg 125 182 240;
#X obj 96 219 s tempoSet;
#X obj 347 11 r tempoSet;
#X obj 255 222 / 24;
#X obj 84 42 loadbang;
#X obj 220 20 loadbang;
#X obj 865 539 binfile;
#X obj 412 717 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X obj 373 738 spigot;
#X msg 581 829 read \$1.txt cr;
#X msg 373 760 add \$1' \$2';
#X msg 498 728 add x';
#X obj 605 293 s noteVal;
#X obj 533 539 r noteVal;
#X obj 346 465 r bNoteWrite;
#X obj 647 560 s bNoteWrite;
#X msg 498 657 symbol testRiff;
#X msg 586 792 write testRiff.txt cr;
#X obj 583 764 t b 0;
#X obj 646 533 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X msg 147 29 64;
#X msg 142 10 128;
#X obj 487 449 r granularity;
#X obj 222 266 / 4;
#X obj 162 284 s granularity;
#X obj 661 111 last-x 2;
#X obj 662 132 list split 1;
#X obj 496 49 r vel;
#X msg 460 390 255;
#X obj 483 539 >= 255;
#X text 495 4 L Voice;
#X obj 493 789 s newRiff;
#X obj 493 495 pipe;
#X obj 497 752 t 1 b;
#X obj 398 57 r vel;
#X obj 398 79 moses 1;
#X obj 400 152 t b;
#X obj 437 103 t b;
#X obj 398 101 == 0;
#X obj 398 126 &&;
#X msg 398 182 127;
#X obj 494 78 spigot;
#X obj 495 104 last-x 2;
#X obj 496 125 list split 1;
#X floatatom 530 153 5 0 0 0 - - -, f 5;
#X obj 530 174 select 0;
#X msg 542 227 127;
#X obj 623 254 i;
#X floatatom 662 154 5 0 0 0 - - -, f 5;
#X floatatom 491 151 5 0 0 0 - - -, f 5;
#X obj 674 179 ==;
#X obj 572 199 t b;
#X obj 539 201 t b;
#X obj 674 201 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X obj 542 249 spigot;
#X obj 566 272 t b;
#X obj 525 294 s bNoteWrite;
#X obj 769 31 hradio 15 1 1 16 empty empty empty 0 -8 0 10 -262144
-1 -1 3;
#X floatatom 915 53 5 0 0 0 - - -, f 5;
#X obj 909 81 ==;
#X obj 848 131 spigot;
#X obj 809 54 r note;
#X obj 860 52 r chan;
#X floatatom 969 160 5 0 0 0 - - -, f 5;
#X obj 876 297 s noteVal;
#X obj 932 115 last-x 2;
#X obj 933 136 list split 1;
#X obj 767 53 r vel;
#X obj 765 82 spigot;
#X obj 766 108 last-x 2;
#X obj 767 129 list split 1;
#X floatatom 801 157 5 0 0 0 - - -, f 5;
#X obj 801 178 select 0;
#X obj 894 258 i;
#X floatatom 933 158 5 0 0 0 - - -, f 5;
#X floatatom 762 155 5 0 0 0 - - -, f 5;
#X obj 945 183 ==;
#X obj 843 203 t b;
#X obj 810 205 t b;
#X obj 945 205 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X obj 813 253 spigot;
#X obj 837 276 t b;
#X obj 796 298 s bNoteWrite;
#X text 766 8 V Voice;
#X msg 813 231 255;
#X obj 849 104 + 128;
#X connect 0 0 5 0;
#X connect 1 0 2 0;
#X connect 1 1 3 0;
#X connect 1 2 4 0;
#X connect 2 0 38 0;
#X connect 3 0 13 0;
#X connect 4 0 14 0;
#X connect 5 0 6 1;
#X connect 6 0 11 1;
#X connect 6 0 126 1;
#X connect 7 0 117 0;
#X connect 7 0 8 1;
#X connect 8 0 43 0;
#X connect 8 0 114 0;
#X connect 9 0 7 0;
#X connect 10 0 54 0;
#X connect 11 0 110 0;
#X connect 11 0 132 1;
#X connect 15 0 11 0;
#X connect 16 0 6 0;
#X connect 17 0 18 0;
#X connect 23 0 20 0;
#X connect 23 0 26 0;
#X connect 23 1 21 0;
#X connect 23 1 24 1;
#X connect 23 2 22 0;
#X connect 23 2 28 0;
#X connect 26 0 27 0;
#X connect 26 1 24 2;
#X connect 27 0 24 0;
#X connect 28 0 27 1;
#X connect 29 0 135 1;
#X connect 31 0 33 0;
#X connect 31 1 34 0;
#X connect 32 0 31 0;
#X connect 35 0 31 0;
#X connect 36 0 96 0;
#X connect 37 0 31 0;
#X connect 37 0 36 0;
#X connect 38 1 39 0;
#X connect 39 0 12 0;
#X connect 40 0 31 0;
#X connect 40 0 103 0;
#X connect 43 0 78 0;
#X connect 43 0 93 0;
#X connect 43 0 19 0;
#X connect 44 0 9 0;
#X connect 45 0 46 0;
#X connect 46 0 47 0;
#X connect 47 0 68 0;
#X connect 48 0 49 0;
#X connect 49 0 50 0;
#X connect 50 0 51 0;
#X connect 51 0 88 0;
#X connect 52 0 45 0;
#X connect 52 0 70 0;
#X connect 52 0 108 0;
#X connect 54 0 55 0;
#X connect 55 0 56 0;
#X connect 55 0 50 1;
#X connect 56 0 48 0;
#X connect 59 0 60 0;
#X connect 60 0 67 0;
#X connect 60 0 88 1;
#X connect 61 0 60 0;
#X connect 62 0 60 0;
#X connect 63 0 60 0;
#X connect 64 0 60 0;
#X connect 65 0 60 0;
#X connect 67 0 51 0;
#X connect 70 0 71 0;
#X connect 71 0 76 0;
#X connect 72 0 9 2;
#X connect 73 0 113 0;
#X connect 74 0 75 0;
#X connect 75 0 9 0;
#X connect 75 0 73 0;
#X connect 77 0 44 1;
#X connect 78 0 79 0;
#X connect 80 0 86 0;
#X connect 81 0 86 0;
#X connect 82 0 86 0;
#X connect 83 0 86 0;
#X connect 84 0 86 0;
#X connect 85 0 86 0;
#X connect 87 0 10 0;
#X connect 88 0 52 0;
#X connect 89 0 82 0;
#X connect 90 0 63 0;
#X connect 92 0 93 1;
#X connect 93 0 95 0;
#X connect 94 0 31 0;
#X connect 95 0 31 0;
#X connect 96 0 31 0;
#X connect 96 0 118 0;
#X connect 98 0 43 1;
#X connect 99 0 8 0;
#X connect 101 0 37 0;
#X connect 102 0 31 0;
#X connect 103 0 102 0;
#X connect 103 1 92 0;
#X connect 104 0 100 0;
#X connect 105 0 60 0;
#X connect 106 0 60 0;
#X connect 107 0 9 2;
#X connect 107 0 117 1;
#X connect 108 0 109 0;
#X connect 110 0 111 0;
#X connect 111 0 133 0;
#X connect 111 1 29 0;
#X connect 112 0 126 0;
#X connect 113 0 44 0;
#X connect 118 0 92 0;
#X connect 118 1 116 0;
#X connect 119 0 120 0;
#X connect 120 0 123 0;
#X connect 120 1 122 0;
#X connect 121 0 125 0;
#X connect 123 0 124 0;
#X connect 124 0 121 0;
#X connect 126 0 127 0;
#X connect 127 0 128 0;
#X connect 128 0 134 0;
#X connect 128 1 129 0;
#X connect 129 0 130 0;
#X connect 130 0 137 0;
#X connect 130 1 136 0;
#X connect 131 0 139 0;
#X connect 132 0 97 0;
#X connect 132 0 140 0;
#X connect 133 0 135 0;
#X connect 135 0 138 0;
#X connect 136 0 132 0;
#X connect 137 0 131 0;
#X connect 138 0 139 1;
#X connect 139 0 132 0;
#X connect 140 0 141 0;
#X connect 142 0 143 0;
#X connect 143 0 144 1;
#X connect 144 0 145 1;
#X connect 144 0 153 1;
#X connect 145 0 150 0;
#X connect 145 0 158 1;
#X connect 146 0 170 0;
#X connect 147 0 144 0;
#X connect 148 0 161 1;
#X connect 150 0 151 0;
#X connect 151 0 159 0;
#X connect 151 1 148 0;
#X connect 152 0 153 0;
#X connect 153 0 154 0;
#X connect 154 0 155 0;
#X connect 155 0 160 0;
#X connect 155 1 156 0;
#X connect 156 0 157 0;
#X connect 157 0 163 0;
#X connect 157 1 162 0;
#X connect 158 0 149 0;
#X connect 158 0 166 0;
#X connect 159 0 161 0;
#X connect 161 0 164 0;
#X connect 162 0 158 0;
#X connect 163 0 169 0;
#X connect 164 0 165 1;
#X connect 165 0 158 0;
#X connect 166 0 167 0;
#X connect 169 0 165 0;
#X connect 170 0 145 0;
